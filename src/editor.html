<div>
    Metric list:
</div>

<table ng-repeat="metric in ctrl.panel.metricList"
    style="margin-left: 20px; border-collapse: separate; border-spacing: 1em">
    <tr>
        <td class="centeredCell">
            <button ng-click="ctrl.removeMetric(metric)">Remove</button>
        </td>

        <td class="centeredCell">
            <input type="checkbox" ng-model="metric.isCustom">

            custom metric
        </td>

        <td class="centeredCell">
            <table ng-show="metric.isCustom">
                <tr>
                    <td class="centeredCell">
                        <b>
                            Name:
                        </b>

                        <input ng-model="metric.name" style="margin-left: 5px">
                    </td>

                    <td class="centeredCell">
                        <b>
                            Query:
                        </b>
                    </td>

                    <td class="centeredCell" style="padding-left: 5px">
                        <textarea ng-model="metric.query"
                            style="width: 1000px; height: 100px; word-break: break-all; padding: 5px"></textarea>
                    </td>
                </tr>
            </table>

            <select ng-hide="metric.isCustom" ng-model="metric.name" ng-change="ctrl.selectPredefinedMetric($index)">
                <option ng-repeat="predefinedMetric in ctrl.predefinedMetricOptionList">{{predefinedMetric}}</option>
            </select>
        </td>
        <td class="centeredCell">
            <b>
                Color:
            </b>

            <input type="color" ng-model="metric.color">
        </td>
    </tr>
</table>

<button ng-click="ctrl.addMetric()">Add metric</button>